class Solution {
    public int findTargetSumWays(int[] nums, int S) {
        Map<Integer, Integer> possi = new HashMap<>();
        possi.put(0, 1);
        
        for (int num : nums) {
            Map<Integer, Integer> nextLevel = new HashMap<>();
            for (int tempAns : possi.keySet()) {
                int times = possi.get(tempAns);
                int addNum = tempAns + num;
                int minusNum = tempAns - num;
                nextLevel.put(addNum, nextLevel.getOrDefault(addNum, 0) + times);
                nextLevel.put(minusNum, nextLevel.getOrDefault(minusNum, 0) + times);
            }
            
            possi = nextLevel;
        }
        
        return possi.get(S) == null ? 0 : possi.get(S);
    }
}

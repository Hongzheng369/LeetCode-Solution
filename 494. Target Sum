class Solution {
    public int findTargetSumWays(int[] nums, int S) {
        Map<Integer, Integer> possi = new HashMap<>();
        possi.put(0, 1);
        
        for (int num : nums) {
            Map<Integer, Integer> nextLevel = new HashMap<>();
            
            for (int thisLevel : possi.keySet()) {
                int addNum = thisLevel + num;
                int minusNum = thisLevel - num;
                nextLevel.put(addNum, nextLevel.getOrDefault(addNum, 0) + possi.get(thisLevel));
                nextLevel.put(minusNum, nextLevel.getOrDefault(minusNum, 0) + possi.get(thisLevel));
            }
            
            possi = nextLevel;
        }
        
        return (possi.get(S) == null ? 0 : possi.get(S));
    }
}

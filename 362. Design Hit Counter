class HitCounter {

    int index;
    HashMap<Integer, int[]> map;
    
    /** Initialize your data structure here. */
    public HitCounter() {
        index = 0;
        map = new HashMap<>();
    }
    
    /** Record a hit.
        @param timestamp - The current timestamp (in seconds granularity). */
    public void hit(int timestamp) {
        if (!map.containsKey(timestamp)) {
            map.put(timestamp, new int[2]);
            map.get(timestamp)[0] = index;
        }
        
        map.get(timestamp)[1] = index++;
    }
    
    /** Return the number of hits in the past 5 minutes.
        @param timestamp - The current timestamp (in seconds granularity). */
    public int getHits(int timestamp) {        
        int end = timestamp;
        int start = timestamp - 299;
        
        while (start < end && !map.containsKey(start)) {
            start++;
        }
        
        if (start == end) {
            return 0;
        }
        
        while (end > start && !map.containsKey(end)) {
            end--;
        }
        
        return map.get(end)[1] - map.get(start)[0] + 1;
    }
}

/**
 * Your HitCounter object will be instantiated and called as such:
 * HitCounter obj = new HitCounter();
 * obj.hit(timestamp);
 * int param_2 = obj.getHits(timestamp);
 */

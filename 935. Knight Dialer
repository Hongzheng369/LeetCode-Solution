class Solution {
    public int knightDialer(int N) {
        int mod = (int)Math.pow(10, 9) + 7;
        
        int[][] mapping = new int[][] {
            {4,6}, 
            {6,8}, {7,9}, {4,8}, 
            {3,9,0}, {}, {1,7,0},
            {2,6}, {1,3}, {2,4}
        };
        
        int[] ans = new int[10];
        Arrays.fill(ans, 1);
        
        for (int i = 0; i < N - 1; i++) {
            int[] next = new int[10];
            
            for (int j = 0; j < 10; j++) {
                for (int nextStop : mapping[j]) {
                    next[j] += ans[nextStop];
                    next[j] %= mod;
                }
            }
            
            ans = next;
        }
        
        long sum = 0;
        for (int i : ans) {
            sum += i;
        }
        
        return (int)(sum % mod);
    }
}
